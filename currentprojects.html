<!DOCTYPE html>

<html lang ="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- make sure that the content fit the device on which we open -->
        <title> Current projects </title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Audiowide|Sofia|Trirong|Arial|Open+Sans">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="js/script.js"></script>
        <link rel="stylesheet" href="generic-patterns/css/horizontalmenu.css">
        <link rel="stylesheet" href="generic-patterns/css/footer.css">
        <link rel="stylesheet" href="generic-patterns/css/main.css">
        <link rel="stylesheet" href="css/currentprojetcs.css">
    </head>

    <!-- Within de web page -->
    <body>
        <div id="horizontalmenu"></div>
        
        <section class="main-container">

            <section class="accordion-current-projects">

                <h2 class="title">Current projects</h2>
                <p>Within this section, I talk about my ongoing projects whether they are academic or personal.</p>
                <hr>

                <div class="current-project"> 
                    <div class="label"> <h2>Buidling an OS from Scratch</h2>  </div>
                    <div class="content">
                        <p>This project will start in the second part of this semester.</p>
                    </div>
                </div>

                <div class="current-project">
                    <div class="label"> <h2>Robot project</h2> </div>
                    <div class="content">
                        <p>This project will start in the second part of this semester.</p>
                    </div>
                </div>

                <div class="current-project">
                    <div class="label"> <h2>Calculator project</h2> </div>
                    <div class="content calculator">
                        <div class="introduction">
                            <p>In this project, our goal is to develop an embedded scripting calculator on a NXP microcontroller.
                            We have the PC that can communicate with the NXP board over UART. From the PC, we open a serial communication and input math operation commands.
                            These are received by the microcontroller which interprets them.
                            Therefore, we use a C library called <span class="mark">Calc</span> that can be integrated in a microcontroller.
                            This library was developed to perform arithmetic operations using a scripting approach like Matlab. The board has already some of the code
                            implemented in it. This project organises itself around three tasks:</p>
                            <ul class="tasks">
                                <li> <span class="mark">Task 1: External communication</span>
                                    <ol style="margin-left: 1rem;">
                                        <li>Handling VT100 (ANSI escape sequences);</li>
                                        <li>Mounting a file system on a SD card;</li>
                                        <li>Executing syscalls on files stored on the SD card.</li>
                                    </ol>
                                </li>
                                <li> <span class="mark">Task 2: Multicore system</span>
                                    <ol style="margin-left: 1rem;">
                                        <li>Booting the two cores;</li>
                                        <li>Sharing data between the two cores;</li>
                                        <li>Performing synchronous and asynchronous tasks.</li>
                                    </ol>
                                </li>
                                <li> <span class="mark">Task 3: Bringing math further</span>
                                    <ol style="margin-left: 1rem;">
                                        <li>Adding PowerQuad to the system;</li>
                                        <li>Computing the cosine of a function;</li>
                                        <li>Performing advanced math operations like FFT.</li>
                                    </ol>
                                </li>
                            </ul>
                            <hr>
                            <div class="project-structure">
                                <h3>Project structure</h3>
                                <p>The project is aranged this way. The folders which we are mainly interested in are <span class="italic">source, fatfs, lcd, sdmmc</span>.
                                    Folder names are pretty self-explanatory, except for <span class="italic">sdmmc</span> which contains the drivers for the SD card.
                                    I provided a view of the source folder.
                                </p>
                                <div class="intro-img">
                                    <img src="images/project_structure.JPG" alt="proj_struct">
                                    <img src="images/src_structure.JPG" alt="src_struct">
                                    <img src="images/nxp_board.jpg" alt="nxp_board">
                                </div>
                                <p><span class="italic">sysdep.c</span> is the file containing the main function.</p>
                            </div>
                        </div>
                        <hr>
                        <div class="task1">
                            <p>I was assigned the <span class="mark">first task</span>, so in this section I will explain how I proceeded to complete those.
                                I mostly worked in the <span class="italic">sysdep.c</span> file.
                            </p>
                            <div class="task1-1">
                                <h3>1. VT100 code</h3>
                                <p>Historically, a terminal could only interpret keyboards that would output printing characters. In that matter, the VT100 (or ANSI escape sequences)
                                    were invented so that a terminal could also interpret non-printing characters such as arrow cursors or f keyboards. With this new standard was
                                    introduced brand new features and we could now move the cursor, clear the screen, change the color of the text, etc.
                                    In this project, the terminal on the laptop's end sends characters to the board that are sent back so they can be visualized on the terminal.
                                    This way, when a VT100 characters sequence is sent to the board, we just need to send it back and the terminal will interpret it accordingly.
                                </p>
                                <div class="task1-1-img">
                                    <img src="images/sys_waitkey.JPG" alt="vt100">
                                    <img src="images/scan_t.JPG" alt="scan_t">
                                </div>
                                <p><span class="italic">sys_wait_key</span> is called by a Calc function. It returns <span class="italic">c</span> and modifies the <span class="italic">scan</span> pointer.
                                    <span class="italic">scan_t</span> is a enum type defined in the Calc header. Here we can see that this function gets the c character and depending on what characters it is we assigned to scan the right value.
                                    In the case of a VT100 sequence, the first character is an escape character (0x1B = 27). Since the function is quite long, I did not screenshot it entierly, though we can see the approach for the first sequences.
                                </p>
                            </div>
                            <hr>
                            <div class="task1-2">
                                <h3>2. File system</h3>
                                <p>We want to be able to load files from the SD card and execute them and to do so, we need to mount a file system on the SD card. We were required to use
                                    the FAT32 file system. The FAT32 file system is a simple file system and is the most commonly used. It is part of the FAT family file system developed by Windows.
                                    A file system allows to arange memory space of a storage device such as an SD card, thereby providing a convenient way to naviguate through the memory, store and access data.
                                    The FAT32 library documentation is available at this <a href="http://elm-chan.org/fsw/ff/00index_e.html">link</a>.
                                </p>
                                <div class="task1-2-img">
                                    <img src="images/fs_cd.JPG" alt="fs_cd">
                                    <img src="images/fs_mkdir_rm.JPG" alt="fs_mkdir">
                                </div>
                            </div>
                            <hr>
                            <div class="task1-3">
                                <h3>3. Syscalls</h3>
                                <p>Now that we can access with files stored on a SD card, we would like to be able to interact with them (modifying or executing them).
                                    To do so, we need to implement basic syscalls-like features.
                                    Indeed, the Calc library makes available some commands that are meant for opening, closing, reading and writing files.
                                    My job here was to implement Calc functions using FAT32 functions.
                                </p>
                                <div class="task1-3-img">
                                    <img src="images/open_close.JPG" alt="open_close">
                                    <img src="images/read_write.JPG" alt="read_write">
                                </div>
                            </div>
                            <hr>
                        </div>
                    </div>
                </div>

            </section>
            

        
        </section> <!-- main-container -->

        <div id="footer"></div>

    </body>

</html>


